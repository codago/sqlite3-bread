<html>

<head>
  <title>
    <%= title %>
  </title>
</head>


<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
<script src="./js/javascript.js"></script>

<body>
  <div class="container">
    <div class="row">

      <div class="col-md-10 col-md-offset-1">
        <h1><a href="/" style="text-decoration:none; ">SQLITE3 BREAD</a></h1>
        <h3>Filters</h3>
        <form method="get" action="/">
          <div class="form-group row">
            <label for="id" class="col-2 col-form-label">
  <input class="messageCheckbox" type="checkbox" <%= checkbox_id ? "checked": '' %>name="checkbox_id" id="checkbox_id" value="value" >ID
  </label>
            <div class="col-10">
              <input id="id" class="form-control" type="number" name="id" placeholder="ID" value="<%= id ? id:''%>">
            </div>
          </div>
          <div class="form-group row">
            <label for="string" class="col-2 col-form-label"><input class="messageCheckbox" type="checkbox" <%= checkbox_string ? "checked": '' %> name="checkbox_string" id="checkbox_string" value="value">String</label>
            <div class="col-10">
              <input id="string" class="form-control" name="string" placeholder="String" value="<%= string ? string:''%>">
            </div>
          </div>
          <div class="form-group row">
            <label for="integer" class="col-2 col-form-label"><input class="messageCheckbox" type="checkbox" <%= checkbox_integer ? "checked": '' %> name="checkbox_integer" id="checkbox_integer" value="value">Integer</label>
            <div class="col-10">
              <input id="integer" class="form-control" name="integer" placeholder="Integer" value="<%= integer ? integer:''%>">
            </div>
          </div>

          <div class="form-group row">
            <label for="float" class="col-2 col-form-label"><input class="messageCheckbox" type="checkbox" <%= checkbox_float ? "checked": '' %> name="checkbox_float" id="checkbox_float" value="value">Float</label>
            <div class="col-10">
              <input id="float" class="form-control" name="float" placeholder="Float" value="<%= float ? float:''%>">
            </div>
          </div>

          <div class="form-group row">
            <label for="date" class="col-2 col-form-label"><input class="messageCheckbox" type="checkbox" <%= checkbox_date ? "checked": '' %> name="checkbox_date" id="checkbox_date" value="value">Date</label>
            <div class="col-3">
              <input id="start_date" class="form-control" type="text" name="start_date" placeholder="start date" value="<%= startDate ? startDate:''%>">
            </div>
            <p>to</p>
            <div class="col-3">
              <input id="end_date" class="form-control" type="text" name="end_date" placeholder="end date" value="<%= endDate ? endDate:''%>" >
            </div>
          </div>

          <div class="form-group row">

            <label for="boolean" class="col-2 col-form-label">

              <input class="messageCheckbox" type="checkbox" <%= checkbox_boolean ? "checked": '' %> name="checkbox_boolean" id="checkbox_boolean" value="value">Boolean</label>
            <div class="col-10">
              <select id="boolean" class="form-control" name="boolean" placeholder="Choose the boolean ..." id="boolean">
        <option>Choose the boolean ...</option>
      <option <%= boolean == 'true' ? ' selected' : ''; %>>true</option>
      <option <%= boolean == 'false' ? ' selected' : ''; %>>false</option>
    </select>
            </div>
          </div>

          <button type="submit" class="btn btn-primary">Search</button>
        </form>

        <table class="table">
          <thead>
            <tr>
              <th>ID</th>
              <th>String</th>
              <th>Integer</th>
              <th>Float</th>
              <th>Date</th>
              <th>Boolean</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>

            <% if(dataLimit.length > 0){ %>
              <% for(var i=0; i <dataLimit.length; i++) { %>
                <tr>
                  <td>
                    <%= dataLimit[i].dataID%>
                  </td>
                  <td>
                    <%= dataLimit[i].string%>
                  </td>
                  <td>
                    <%= dataLimit[i].integer%>
                  </td>
                  <td>
                    <%= dataLimit[i].float%>
                  </td>
                  <td>
                    <%= dataLimit[i].date%>
                  </td>
                  <td>
                    <%= dataLimit[i].boolean%>
                  </td>

                  <td><a href="update/<%= dataLimit[i].dataID%>" class="btn btn-success">Edit</a> <a href="delete/<%= dataLimit[i].dataID%>" class="btn btn-danger">Delete</a></td>
                </tr>
                <% } %>
                  <% } else { %>
                    <h1>Data not found</h1>
                    <%}%>
          </tbody>
        </table>

        <nav aria-label="Page navigation example">
          <ul class="pagination">


<%if(prev >= 0){%>

  <%if(queryLength >= 0 && queryLength <= 1){%>
    <li class="page-item"><a class="page-link" href="/?pages=<%=prev%>">Previous</a></li>
  <%}else{%>
    <li class="page-item"><a class="page-link" href="<%=url%>&pages=<%=prev%>">Previous</a></li>
  <%}%>
<%}else{%>
  <li class="page-item"><a class="page-link" href="" style="pointer-events: none;" hidden>Previous</a></li>
<%}%>



<% var count = 0; %>
<% for(var i=0;i<dataAll;i+=5){ %>
<% count++ %>
<li class="<%=((i-5) == prev) ?'page-item active':''%>">
<%if(queryLength >= 0 && queryLength <= 1){%>
<a class="page-link" href="/?pages=<%=i%>">
<%} else{%>
<a class="page-link" href="<%=url%>&pages=<%=i%>">
<%}%>

<%= count %>
</a>
</li>
<% } %>

<% var maxLimit = Math.ceil(dataAll/5)*5; %>
<%if(next < maxLimit){%>
<%if(queryLength >= 0 && queryLength <= 1){%>
<li class="page-item"><a class="page-link" href="/?pages=<%=next%>">Next</a></li>
<%}else{%>
<li class="page-item"><a class="page-link" href="<%=url%>&pages=<%=next%>">Next</a></li>
<%}%>
<%}else{%>
<li class="page-item"><a class="page-link" href="/?pages=<%=next%>" style="pointer-events:none;" hidden>Next</a></li>
<%}%>
</ul>
        </nav>

        <form method="get" action="http://localhost:3000/add">
          <button type="submit" class="btn btn-primary">add</button>
        </form>



      </div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
</body>

</html>
